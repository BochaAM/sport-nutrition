<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–¥–±–æ—Ä–∞</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        .results-header {
            text-align: center;
            padding: 40px 0;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 0 0 30px 30px;
            margin-bottom: 40px;
        }
        
        .filters-tags {
            display: flex;
            justify-content: center;
            gap: 10px;
            flex-wrap: wrap;
            margin-top: 20px;
        }
        
        .filter-tag {
            background: rgba(255,255,255,0.2);
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 14px;
        }
        
        .products-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 30px;
            padding: 20px 0;
        }
        
        .product-card {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            transition: transform 0.3s;
        }
        
        .product-card:hover {
            transform: translateY(-5px);
        }
        
        .product-image {
            height: 200px;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: #3498db;
            font-size: 60px;
        }
        
        .product-info {
            padding: 25px;
        }
        
        .product-category {
            color: #3498db;
            font-size: 14px;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .product-name {
            font-size: 20px;
            color: #2c3e50;
            margin-bottom: 10px;
        }
        
        .product-description {
            color: #666;
            margin-bottom: 20px;
            font-size: 15px;
        }
        
        .product-price {
            font-size: 24px;
            font-weight: bold;
            color: #2ecc71;
            margin: 15px 0;
        }
        
        .product-tags {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            margin: 15px 0;
        }
        
        .tag {
            background: #e3f2fd;
            color: #3498db;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 12px;
        }
        
        .no-results {
            text-align: center;
            padding: 60px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }
        
        .no-results i {
            font-size: 60px;
            color: #ddd;
            margin-bottom: 20px;
        }
        
        .controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: white;
            padding: 20px;
            border-radius: 15px;
            margin: 30px 0;
            box-shadow: 0 3px 10px rgba(0,0,0,0.05);
        }
        
        .sort select {
            padding: 10px 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- –®–∞–ø–∫–∞ -->
        <header class="header">
            <div class="logo">
                <i class="fas fa-dumbbell"></i>
                <span>SPORTNUTRITION</span>
            </div>
            <nav>
                <a href="index.html">–ì–ª–∞–≤–Ω–∞—è</a>
                <a href="quiz.html">–ü—Ä–æ–π—Ç–∏ –∑–∞–Ω–æ–≤–æ</a>
            </nav>
        </header>

        <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ -->
        <div class="results-header">
            <h1>–í–∞—à–∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</h1>
            <p>–ù–∞ –æ—Å–Ω–æ–≤–µ –≤–∞—à–∏—Ö –æ—Ç–≤–µ—Ç–æ–≤ —Å–∏—Å—Ç–µ–º–∞ –ø–æ–¥–æ–±—Ä–∞–ª–∞ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã</p>
            <div class="filters-tags" id="filtersTags">
                <!-- –§–∏–ª—å—Ç—Ä—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è —á–µ—Ä–µ–∑ JS -->
            </div>
        </div>

        <!-- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ -->
        <div class="controls">
            <div class="sort">
                <label for="sortSelect" style="margin-right: 10px;">–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞:</label>
                <select id="sortSelect" onchange="sortProducts()">
                    <option value="recommended">–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω—ã–µ</option>
                    <option value="price-low">–¶–µ–Ω–∞: –ø–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é</option>
                    <option value="price-high">–¶–µ–Ω–∞: –ø–æ —É–±—ã–≤–∞–Ω–∏—é</option>
                </select>
            </div>
            <button class="btn" onclick="window.location.href='quiz.html'">
                <i class="fas fa-redo"></i> –ù–æ–≤—ã–π –ø–æ–¥–±–æ—Ä
            </button>
        </div>

        <!-- –¢–æ–≤–∞—Ä—ã -->
        <div id="productsContainer">
            <!-- –¢–æ–≤–∞—Ä—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è —á–µ—Ä–µ–∑ JavaScript -->
        </div>

        <!-- –ï—Å–ª–∏ –Ω–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ -->
        <div id="noResults" class="no-results" style="display: none;">
            <i class="fas fa-search"></i>
            <h2>–ü–æ –≤–∞—à–µ–º—É –∑–∞–ø—Ä–æ—Å—É –Ω–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ</h2>
            <p>–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–¥–±–æ—Ä–∞</p>
            <a href="quiz.html" class="btn" style="margin-top: 20px;">
                <i class="fas fa-arrow-left"></i> –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –∫–≤–∏–∑—É
            </a>
        </div>
    </div>

    <script src="script.js"></script>
    <script>
        // –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤
        const products = [
            {
                id: 1,
                name: "–°—ã–≤–æ—Ä–æ—Ç–æ—á–Ω—ã–π –ø—Ä–æ—Ç–µ–∏–Ω Gold Standard",
                category: "–ü—Ä–æ—Ç–µ–∏–Ω",
                price: 2999,
                description: "24 –≥ –±–µ–ª–∫–∞ –Ω–∞ –ø–æ—Ä—Ü–∏—é, –±—ã—Å—Ç—Ä–æ–µ —É—Å–≤–æ–µ–Ω–∏–µ, –æ—Ç–ª–∏—á–Ω—ã–π –≤–∫—É—Å",
                goal: "–º–∞—Å—Å–∞",
                priceCategory: "—Å—Ä–µ–¥–Ω–∏–π",
                tags: ["–ü—Ä–æ—Ç–µ–∏–Ω", "–ù–∞–±–æ—Ä –º–∞—Å—Å—ã"],
                icon: "üí™"
            },
            {
                id: 2,
                name: "L-–∫–∞—Ä–Ω–∏—Ç–∏–Ω 3000",
                category: "–ñ–∏—Ä–æ—Å–∂–∏–≥–∞—Ç–µ–ª—å",
                price: 1599,
                description: "–£—Å–∫–æ—Ä—è–µ—Ç —Å–∂–∏–≥–∞–Ω–∏–µ –∂–∏—Ä–∞, –ø–æ–≤—ã—à–∞–µ—Ç —ç–Ω–µ—Ä–≥–∏—é –Ω–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞—Ö",
                goal: "–ø–æ—Ö—É–¥–µ–Ω–∏–µ",
                priceCategory: "–±—é–¥–∂–µ—Ç",
                tags: ["–ü–æ—Ö—É–¥–µ–Ω–∏–µ", "–≠–Ω–µ—Ä–≥–∏—è"],
                icon: "üî•"
            },
            {
                id: 3,
                name: "BCAA 2:1:1 –∫–æ–º–ø–ª–µ–∫—Å",
                category: "–ê–º–∏–Ω–æ–∫–∏—Å–ª–æ—Ç—ã",
                price: 2499,
                description: "–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –º—ã—à—Ü, —Å–Ω–∏–∂–µ–Ω–∏–µ —É—Å—Ç–∞–ª–æ—Å—Ç–∏, –∑–∞—â–∏—Ç–∞ –æ—Ç –∫–∞—Ç–∞–±–æ–ª–∏–∑–º–∞",
                goal: "–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ",
                priceCategory: "—Å—Ä–µ–¥–Ω–∏–π",
                tags: ["–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ", "–ê–º–∏–Ω–æ–∫–∏—Å–ª–æ—Ç—ã"],
                icon: "‚ö°"
            },
            {
                id: 4,
                name: "–ö—Ä–µ–∞—Ç–∏–Ω –º–æ–Ω–æ–≥–∏–¥—Ä–∞—Ç",
                category: "–ö—Ä–µ–∞—Ç–∏–Ω",
                price: 1299,
                description: "–£–≤–µ–ª–∏—á–µ–Ω–∏–µ —Å–∏–ª—ã –∏ –º—ã—à–µ—á–Ω–æ–π –º–∞—Å—Å—ã, —É–ª—É—á—à–µ–Ω–∏–µ –≤—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç–∏",
                goal: "–º–∞—Å—Å–∞",
                priceCategory: "–±—é–¥–∂–µ—Ç",
                tags: ["–ö—Ä–µ–∞—Ç–∏–Ω", "–°–∏–ª–∞"],
                icon: "üèãÔ∏è"
            },
            {
                id: 5,
                name: "–ü—Ä–µ–¥—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω—ã–π –∫–æ–º–ø–ª–µ–∫—Å",
                category: "–≠–Ω–µ—Ä–≥–∏—è",
                price: 3499,
                description: "–≠–Ω–µ—Ä–≥–∏—è, —Ñ–æ–∫—É—Å, –≤—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç—å, –ø–∞–º–ø–∏–Ω–≥",
                goal: "–≤—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç—å",
                priceCategory: "–ø—Ä–µ–º–∏—É–º",
                tags: ["–≠–Ω–µ—Ä–≥–∏—è", "–§–æ–∫—É—Å"],
                icon: "üöÄ"
            },
            {
                id: 6,
                name: "–í–∏—Ç–∞–º–∏–Ω–Ω–æ-–º–∏–Ω–µ—Ä–∞–ª—å–Ω—ã–π –∫–æ–º–ø–ª–µ–∫—Å",
                category: "–í–∏—Ç–∞–º–∏–Ω—ã",
                price: 1999,
                description: "–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏–º–º—É–Ω–∏—Ç–µ—Ç–∞, –æ–±—â–µ–µ –∑–¥–æ—Ä–æ–≤—å–µ, –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ",
                goal: "–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ",
                priceCategory: "—Å—Ä–µ–¥–Ω–∏–π",
                tags: ["–í–∏—Ç–∞–º–∏–Ω—ã", "–ó–¥–æ—Ä–æ–≤—å–µ"],
                icon: "üåø"
            }
        ];

        // –ó–∞–≥—Ä—É–∑–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
        document.addEventListener('DOMContentLoaded', function() {
            displayResults();
        });

        // –ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
        function displayResults() {
            // –ü–æ–ª—É—á–∞–µ–º –æ—Ç–≤–µ—Ç—ã –∏–∑ localStorage
            const answers = JSON.parse(localStorage.getItem('quizAnswers') || '{}');
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—ã–±—Ä–∞–Ω–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã
            displaySelectedFilters(answers);
            
            // –§–∏–ª—å—Ç—Ä—É–µ–º —Ç–æ–≤–∞—Ä—ã
            const filteredProducts = filterProducts(answers);
            
            // –°–æ—Ä—Ç–∏—Ä—É–µ–º —Ç–æ–≤–∞—Ä—ã
            const sortedProducts = sortProductsList(filteredProducts, 'recommended');
            
            // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º —Ç–æ–≤–∞—Ä—ã
            displayProducts(sortedProducts);
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã
        function displaySelectedFilters(answers) {
            const filtersTags = document.getElementById('filtersTags');
            let tagsHTML = '';
            
            // –ú–∞–ø–ø–∏–Ω–≥ –∑–Ω–∞—á–µ–Ω–∏–π –Ω–∞ —á–∏—Ç–∞–µ–º—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è
            const valueToText = {
                '–º–∞—Å—Å–∞': '–ù–∞–±–æ—Ä –º–∞—Å—Å—ã',
                '–ø–æ—Ö—É–¥–µ–Ω–∏–µ': '–ü–æ—Ö—É–¥–µ–Ω–∏–µ',
                '–≤—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç—å': '–í—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç—å',
                '–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ': '–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ',
                '–±—é–¥–∂–µ—Ç': '–ë—é–¥–∂–µ—Ç–Ω—ã–π',
                '—Å—Ä–µ–¥–Ω–∏–π': '–°—Ä–µ–¥–Ω–∏–π',
                '–ø—Ä–µ–º–∏—É–º': '–ü—Ä–µ–º–∏—É–º',
                '–Ω–µ—Ç': '–ë–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π',
                '–ª–∞–∫—Ç–æ–∑–∞': '–ë–µ–∑ –ª–∞–∫—Ç–æ–∑—ã',
                '–∫–æ—Ñ–µ–∏–Ω': '–ë–µ–∑ –∫–æ—Ñ–µ–∏–Ω–∞',
                '—Å–∞—Ö–∞—Ä': '–ë–µ–∑ —Å–∞—Ö–∞—Ä–∞',
                '–ø—Ä–æ—Ç–µ–∏–Ω': '–ü—Ä–æ—Ç–µ–∏–Ω',
                '–∞–º–∏–Ω–æ–∫–∏—Å–ª–æ—Ç—ã': '–ê–º–∏–Ω–æ–∫–∏—Å–ª–æ—Ç—ã',
                '–∫—Ä–µ–∞—Ç–∏–Ω': '–ö—Ä–µ–∞—Ç–∏–Ω',
                '–≤–∏—Ç–∞–º–∏–Ω—ã': '–í–∏—Ç–∞–º–∏–Ω—ã',
                '–Ω–∏–∑–∫–∏–π': '–ù–∏–∑–∫–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å',
                '—Å—Ä–µ–¥–Ω–∏–π': '–°—Ä–µ–¥–Ω—è—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å',
                '–≤—ã—Å–æ–∫–∏–π': '–í—ã—Å–æ–∫–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å'
            };
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—ã–±—Ä–∞–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã
            Object.values(answers).forEach(value => {
                const text = valueToText[value] || value;
                tagsHTML += `<div class="filter-tag">${text}</div>`;
            });
            
            filtersTags.innerHTML = tagsHTML || '<div class="filter-tag">–í—Å–µ —Ç–æ–≤–∞—Ä—ã</div>';
        }

        // –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ç–æ–≤–∞—Ä–æ–≤
        function filterProducts(answers) {
            if (Object.keys(answers).length === 0) {
                return products; // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—Å–µ —Ç–æ–≤–∞—Ä—ã –µ—Å–ª–∏ –Ω–µ—Ç –æ—Ç–≤–µ—Ç–æ–≤
            }
            
            return products.filter(product => {
                // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ —Ü–µ–ª–∏ (–≤–æ–ø—Ä–æ—Å 0)
                if (answers[0] && product.goal !== answers[0]) {
                    return false;
                }
                
                // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ —Ü–µ–Ω–µ (–≤–æ–ø—Ä–æ—Å 1)
                if (answers[1] && product.priceCategory !== answers[1]) {
                    return false;
                }
                
                return true;
            });
        }

        // –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤
        function sortProducts() {
            const sortValue = document.getElementById('sortSelect').value;
            const answers = JSON.parse(localStorage.getItem('quizAnswers') || '{}');
            const filteredProducts = filterProducts(answers);
            const sortedProducts = sortProductsList(filteredProducts, sortValue);
            displayProducts(sortedProducts);
        }

        // –§—É–Ω–∫—Ü–∏—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
        function sortProductsList(productsList, sortBy) {
            const sorted = [...productsList];
            
            switch (sortBy) {
                case 'price-low':
                    return sorted.sort((a, b) => a.price - b.price);
                case 'price-high':
                    return sorted.sort((a, b) => b.price - a.price);
                default:
                    return sorted; // recommended
            }
        }

        // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤
        function displayProducts(productsList) {
            const container = document.getElementById('productsContainer');
            const noResults = document.getElementById('noResults');
            
            if (productsList.length === 0) {
                container.innerHTML = '';
                noResults.style.display = 'block';
                return;
            }
            
            noResults.style.display = 'none';
            
            const productsHTML = productsList.map(product => `
                <div class="product-card">
                    <div class="product-image">
                        <span style="font-size: 60px;">${product.icon}</span>
                    </div>
                    <div class="product-info">
                        <div class="product-category">${product.category}</div>
                        <h3 class="product-name">${product.name}</h3>
                        <p class="product-description">${product.description}</p>
                        <div class="product-tags">
                            ${product.tags.map(tag => `<span class="tag">${tag}</span>`).join('')}
                        </div>
                        <div class="product-price">${product.price}‚ÇΩ</div>
                        <button class="btn" onclick="addToCart(${product.id})" style="width: 100%; margin-top: 10px;">
                            <i class="fas fa-shopping-cart"></i> –î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É
                        </button>
                    </div>
                </div>
            `).join('');
            
            container.innerHTML = `<div class="products-container">${productsHTML}</div>`;
        }

        // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∫–æ—Ä–∑–∏–Ω—É
        function addToCart(productId) {
            alert('–¢–æ–≤–∞—Ä –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∫–æ—Ä–∑–∏–Ω—É! (–í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ –∑–¥–µ—Å—å –±—ã–ª–∞ –±—ã –ª–æ–≥–∏–∫–∞ –∫–æ—Ä–∑–∏–Ω—ã)');
        }
    </script>
</body>
</html>
